<!DOCTYPE html>
{% load static %}
<link rel="stylesheet" href="{% static 'products/css/pdfgpt.css' %}">
<html>

<head>
    <style>
        @page {
        size: A4 portrait;
        margin: 2%;
            
        }
        body{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 12px;
            margin: 2%;
        }


    </style>
    <title class="title1" >Cotización de Kit de Equipos Solares</title>
</head>
<body>
    
    <div>
        <table style="width: 100%;">
            <tr style="height: 180px;">
                <th style="width: 100%;height: 180px;"><img src="https://cotizadorcodensolar.azurewebsites.net/media/pdf/logo.png" alt="" height="200px" width="200px"></th>
            </tr>
            <tr>
                <th style="width: 100%;height: 15px;">
                    <h3>NIT No. 900.586.332-1 </h3>
                </th >
            </tr>
            <tr>
                <th style="width: 100%;height: 15px;">
                    <h3 style="font-size: 13px;">detalle de tu compra</h3>
                    <br>
                </th>
            </tr>
            
            
        </table>
    </div>

    <!-- tabla de toda la cotizacion -->
    <div style="margin: 4%">
        <h1>KIT</h1>
        <table>
            <th >
                <table style="border: 2px solid green; height: 25px;text-align: center;padding-top: 3px;font-size: 12px;margin: 1%; border-radius:10px;">
                    <tr>
                        <th style="width: 40%; background-color: #202f46; color:azure; font-weight:bold;letter-spacing: 2px; ">
                            Elemento
                        </th>
                        <th style="width: 20%;background-color: #202f46; color:azure; font-weight:bold;letter-spacing: 2px;">
                            Cantidad
                        </th>
                        <th style="width: 20%;background-color: #202f46; color:azure; font-weight:bold;letter-spacing: 2px;">
                            Precio Unitario
                        </th>
                        <th style="width: 20%;background-color: #202f46; color:azure; font-weight:bold;letter-spacing: 2px;">
                            Precio Total
                        </th>
                    </tr>
                    
                    {% for p in productos  %}
                        
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:1000; ">
                            {{p.name}}
                        </td>

                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{p.amount}}
                        </td>
                        
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                        $ {{p.price}}
                        </td>
<!-- 
                        <td style="margin: 5px;background-color: #56b17d62; color:azure; font: weight 600px;">
                        $ {{p.total}}
                        </td> -->

                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            $ {{p.total}}
                        </td>

                    </tr>
                    {% endfor %}
                    <tr>
                        
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{p.panel}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{p.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                        $ {{p.panel_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                        $ {{p.panel_precio_t}}
                        </td>
                        
                            
                    </tr>
        
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{b.bateria}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{b.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                        $ {{b.bateria_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                        $ {{b.bateria_precio_t}}
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{r.regulador}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{r.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                        $ {{r.regulador_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                        $ {{r.regulador_precio_t}}
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{br.breakers}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{br.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                           $ {{br.breakers_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                           $ {{br.breakers_precio_t}}
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{rc.rubberized_cable_needed}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{rc.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                           $ {{rc.rubberized_cable_needed_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                           $ {{rc.rubberized_cable_needed_precio_t}}
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{sp.soporte_panel}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{sp.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                           $ {{sp.soporte_panel_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                           $ {{sp.soporte_panel_precio_t}}
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                            {{cm.centralized_modules_needed}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                            {{cm.amount}}
                        </td>
                        <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                           $ {{cm.centralized_modules_needed_precio_u}}
                        </td>
                        <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                           $ {{cm.centralized_modules_needed_precio_t}}
                        </td>
                        <tr>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                {{pu.power_units_needed}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{pu.amount}}
                            </td>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                $ {{pu.power_units_needed_precio_u}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{pu.power_units_needed_precio_t}}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                {{tr.terminals_needed}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{tr.amount}}
                            
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                $ {{tr.terminals_needed_precio_u}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{tr.terminals_needed_precio_t}}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                {{co.connector_needed}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{co.amount}}
                            </td>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                $ {{co.connector_needed_precio_u}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{co.connector_needed_precio_t}}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                {{vc.vehicle_cable_needed}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{vc.amount}}
                            </td>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                $ {{vc.vehicle_cable_needed_precio_u}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{vc.vehicle_cable_needed_precio_t}}
                            </td>
                        </tr>


                        <tr>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                {{gsk.ground_security_kit_needed}}
                            </td>
                            <td style="width: 40%; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{gsk.amount}}
                            </td>
                            <td style="width: 40%; background-color: #7b8faf; color:azure; font-weight:bold; ">
                                $ {{gsk.ground_security_kit_needed_precio_u}}
                            </td>
                            <td style="width: 40%; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{gsk.ground_security_kit_needed_precio_t}}
                            </td>
                        </tr>





                        <tr>
                            <th style="margin: 5px;background-color: #1e293b; color:azure; font-weight:bold;">
                                <h1>total</h1>
                            </th>
                            <td style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                {{c.amount}}
                            </td>
                            <td style="margin: 5px;background-color: #1e293b; color:azure; font-weight:bold;">
                                $ {{total.total_u}}
                            </td>
                            <td  style="margin: 5px; background-color: #5e6d85; color:azure; font-weight:bold; ">
                                $ {{total.total}}
                            </td>
                        </tr>
        
                </table>
            </div>
            </th>
        </table>
        
    
    


    <!-- productos arriba -->

    <div i="tabla-productos">
        {% for p in productos %}
        <table>
            <tr >
                <th style="margin: 5px; width: 150px;height: 200px;"><img src="https://cotizadorcodensolar.azurewebsites.net/media/{{p.imagen}}" alt=""></th>
                <th style="width: 80%; ">

                    <table style="margin: 5%;border: 2px solid #0F172A; height: 25px;text-align: center;padding-top: 3px;font-size: 12px;margin: 1%; border-radius:10px; ">
                        <tr>
                            <th style="width: 90px;color:azure; background-color: #1E293B; font-weight:bold;">Producto</th>
                            <th style="width: 90px;color:azure; background-color: #1E293B; font-weight:bold;">Cantidad</th>
                            <th style="width: 90px;color:azure; background-color: #1E293B; font-weight:bold;">Precio Unitario</th>
                            <th style="width: 90px;color:azure; background-color: #1E293B; font-weight:bold;">Precio Total</th>
                        </tr>
                        
                        
                        <tr>
                            <td style="width: 400px; font-weight:bold; font-size:600px;">{{p.name}}</td>
                            <td style="width: 200px;">{{p.amount}} </td>
                            <td style="width: 200px;">$ {{p.price}} </td>
                            <td style="width: 200px;">$ {{p.total}} </td>
                        </tr>
                        <tr>
                            <td><div class="segunda-fila"></div></td>
                        </tr>
                        
                        <tr>
                            <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Consumo/h </th>
                            <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Consumo Dia</th>
                            <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Perdidas {{p.porcentaje}}% </th>
                            <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Total Mas Perdidas</th>
                        </tr>
                        <tr>
                            <td>{{p.consumo_h}} W</td>
                            <td>{{p.consumo_D}} W </td>
                            <td>{{p.perdidas}} W</td>
                            <td>{{p.total_MP}} W</td>
                        </tr>
                        <!-- Agrega más filas para cada producto aquí -->
                    </table>

                    
                </th>
                
            </tr>
        </table>
        {% endfor %}
    </div>

    <!-- REQUIERMENTS  -->

    <div>
        <h2>Totales:Consumo por hora {{consumos.total_consumo_hr}} W/h Consumo Dia {{consumos.total_consumo_day}} W perdidas {{consumos.total_perdidas}} W total consumo {{consumos.total_consumo}} W</h2>
        <div>
            <h3>Equipos Solares</h3>
            <table>
                <tr>
                    <th style="height: 120px;width: 120px;">
                        <img src="https://cotizadorcodensolar.azurewebsites.net/media/pdf/panel.svg" alt="" height="120px" width="120px">
                    </th>
                    <th >
                        <table style="margin: 5%;border: 2px solid #0F172A; height: 25px;text-align: center;padding-top: 3px;font-size: 12px;margin: 1%;  border-radius:10px;">
                            <tr >
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Panel</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Cantidad</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Potencia dia</th>
                                
                                
                            </tr>
                            <tr>
                                <td>{{p.panel}}</td>
                                <td>{{p.amount}}</td>
                                <td>{{p.panel_potencia_dia}} W</td>
                            </tr>
                            <tr>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Potencia/h</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Precio unitario</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Precio total</th>
                            </tr>
                            <tr>
                                <td>{{p.panel_potencia}} W/h</td>
                                <td>$ {{p.panel_precio_u}}</td>
                                <td>$ {{p.panel_precio_t}}</td>
                        </table>
                    </th>

                    <th style="width: 120px;height: 120px;">
                        <img src="https://cotizadorcodensolar.azurewebsites.net/media/pdf/battery.svg" alt="" height="120px" width="120px">
                    </th>
                    <th>
                        <table style="margin: 5%;border: 2px solid #0F172A; height: 25px;text-align: center;padding-top: 3px;font-size: 12px;margin: 1%; border-radius:10px;">
                            <tr>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Bateria</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Cantidad</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;letter-spacing: 2px;">Capacidad total</th>
                            </tr>
                            <tr>
                                <td>{{b.bateria}}</td>
                                <td>{{b.amount}}</td>
                                <td>{{b.bateria_capacidad}} A</td>
                                
                            </tr>
                            <tr>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Capacidad</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Precio unitario</th>
                                <th style="width: 90px; background-color: #1E293B; color:azure; font-weight:bold;">Precio total</th>
                            </tr>
                            <tr>
                                <td>{{b.bateria_capacidad_t}} A/h</td>
                                
                                <td>$ {{b.bateria_precio_u}}</td>
                                <td>$ {{b.bateria_precio_t}}</td>
                        </table>
                    </th>
                </tr>

            </table>
        </div>
    </div>

    
    
</body>
</html>